getprop("ro.product.device") == "prada" || getprop("ro.build.product") == "prada"  || abort("This package is for \"prada\" devices; this is a \"" + getprop("ro.product.device") + "\".");

set_progress(0.900000);
ui_print("");
ui_print("");
ui_print("Redmi 4 debloater by Kizoky (not finished)");
mount("ext4", "EMMC", "/dev/block/bootdevice/by-name/system", "/system");
ui_print("Removing bloatware please wait...");
delete("/system/app/XMRemoteController/");
delete("/system/app/GoogleTTS/");
delete("/system/app/HybridPlatform/");
delete("/system/app/AutoTest/");
# Needs to be checked if any app will crash upon deleting
delete("/system/app/MiGalleryLockscreen/");

delete("/system/app/Notes/");
delete("/system/app/CloudPrint2/");
# Having doubts about this
delete("/system/app/MiDrive/");

delete("/system/app/MiuiCompass/");
delete("/system/app/GoogleCalendarSyncAdapter/");
delete("/system/app/GoogleContactsSyncAdapter/");
delete("/system/app/QtiFeedback/");
delete("/system/app/Stk/");
# Unknown what's this
delete("/system/app/Joyose/");

delete("/system/app/PrintSpooler/");
delete("/system/app/HybridAccessory/");
# Needs to be checked if any app will crash upon deleting
delete("/system/app/LiveWallpapersPicker/");

delete("/data/app/talkback/");
delete("/data/data-app/talkback/");

delete("/system/priv-app/MiuiVideo/");
delete("/system/priv-app/Music/");
delete("/system/priv-app/YellowPage/");
# Having doubts about this
delete("/system/priv-app/MiDrop/");

delete("/system/priv-app/WeatherProvider/");

delete_recursive("/data/app/3rd-cn.wps.moffice_eng");
delete_recursive("/data/app/3rd-com.cleanmaster.mguard_cn");
delete_recursive("/data/app/3rd-com.dianping.v1");
delete_recursive("/data/app/3rd-com.duokan.reader");
delete_recursive("/data/app/3rd-com.Qunar");
delete_recursive("/data/app/3rd-com.sdu.didi.psnger");
delete_recursive("/data/app/3rd-com.sina.weibo");
delete_recursive("/data/app/3rd-com.ss.android.article.news");
delete_recursive("/data/app/3rd-com.tencent.mobileqq");
delete_recursive("/data/app/3rd-com.tencent.mobileqq");
delete_recursive("/data/app/3rd-com.tencent.qqmusic");
delete_recursive("/data/app/3rd-com.yiche.price");
delete_recursive("/data/app/3rd-com.zhangdan.app");
delete_recursive("/data/app/3rd-ctrip.android.view");
delete_recursive("/data/app/3rd-Didi");
delete_recursive("/data/app/3rd-DkReader");
delete_recursive("/data/app/3rd-mOffice");
delete_recursive("/data/app/3rd-QQ");
delete_recursive("/data/app/3rd-Qunar");
delete_recursive("/data/app/3rd-Weibo");
delete_recursive("/data/app/AdEcommerce");
delete_recursive("/data/app/com.alipay.android.app-1");
delete_recursive("/data/app/com.baidu.BaiduMap-1");
delete_recursive("/data/app/com.baidu.input_mi-1");
delete_recursive("/data/app/com.cleanmaster.mguard_cn-1");
delete_recursive("/data/app/com.dianping.v1-1");
delete_recursive("/data/app/com.duokan.reader-1");
delete_recursive("/data/app/com.miui.klo.bugreport");
delete_recursive("/data/app/com.miui.transfer-1");
delete_recursive("/data/app/com.miui.transfer");
delete_recursive("/data/app/com.Quanar-1");
delete_recursive("/data/app/com.sdu.didi.psnger-1");
delete_recursive("/data/app/com.sina.weibo-1");
delete_recursive("/data/app/com.xiaomi.channel-1");
delete_recursive("/data/app/com.xiaomi.o2o-1");
delete_recursive("/data/app/com.xiaomi.o2o-2");
delete_recursive("/data/app/com.xiaomi.o2o");
delete_recursive("/data/app/com.xiaomi.mimobile.noti");
delete_recursive("/data/app/com.xiaomi.shop-1");
delete_recursive("/data/app/com.xiangkan.android");
delete_recursive("/data/app/com.yidian.xiaomi-1");
delete_recursive("/data/app/com.yidian.xiaomi");
delete_recursive("/data/app/klobugreport");
delete_recursive("/data/app/MiFinance");
delete_recursive("/data/app/MiFinance");
delete_recursive("/data/app/MiuiBBS");
delete_recursive("/data/app/O2O");
delete_recursive("/data/app/ota-miui-MiShop");
delete_recursive("/data/app/ota-miui-vtalk");
delete_recursive("/data/app/ota-miui-XiaomiSmartHome");
delete_recursive("/data/app/ota-partner-MU");
delete_recursive("/data/app/ota-partner-NetworkAssistant");
delete_recursive("/data/app/ota-partner-Zixun");
delete_recursive("/data/app/partner-58Client");
delete_recursive("/data/app/partner-Alipay");
delete_recursive("/data/app/partner-AlipayMsp");
delete_recursive("/data/app/partner-AMAP");
delete_recursive("/data/app/partner-AMAP");
delete_recursive("/data/app/partner-Amazon");
delete_recursive("/data/app/partner-BaiduIME");
delete_recursive("/data/app/partner-BaiduIME");
delete_recursive("/data/app/partner-BaiduMap");
delete_recursive("/data/app/partner-BaiduTieba");
delete_recursive("/data/app/partner-CleanMaster");
delete_recursive("/data/app/partner-com.duokan.reader");
delete_recursive("/data/app/partner-com.duokan.reader");
delete_recursive("/data/app/partner-Ctrip");
delete_recursive("/data/app/partner-Dianping");
delete_recursive("/data/app/partner-DkReader");
delete_recursive("/data/app/partner-DkReaderHD");
delete_recursive("/data/app/partner-Fengxing");
delete_recursive("/data/app/partner-Kankan");
delete_recursive("/data/app/partner-MeituanHD");
delete_recursive("/data/app/partner-MiReader");
delete_recursive("/data/app/partner-MiShop");
delete_recursive("/data/app/partner-MiShop");
delete_recursive("/data/app/partner-MiShopHD");
delete_recursive("/data/app/partner-MiTalk");
delete_recursive("/data/app/partner-MiTalk");
delete_recursive("/data/app/partner-mOffice");
delete_recursive("/data/app/partner-NetEaseNews");
delete_recursive("/data/app/partner-Qunar");
delete_recursive("/data/app/partner-Qzone");
delete_recursive("/data/app/partner-Tuniu");
delete_recursive("/data/app/partner-UPPayPluginEx");
delete_recursive("/data/app/partner-Weibo");
delete_recursive("/data/app/partner-XiMaLaYa");
delete_recursive("/data/app/partner-XiMaLaYa");
delete_recursive("/data/app/partner-XunfeiSpeechService3");
delete_recursive("/data/app/partner-XunfeiSpeechService3");
delete_recursive("/data/app/partner-Yinxiang");
delete_recursive("/data/app/partner-Zixun");
delete_recursive("/data/app/partner-Zixun");
delete_recursive("/data/app/partner-ZixunHD");
delete_recursive("/data/app/recommended-3rd-cn.wps.moffice_eng");
delete_recursive("/data/app/recommended-3rd-com.cleanmaster.mguard_cn");
delete_recursive("/data/app/recommended-3rd-com.immomo.momo");
delete_recursive("/data/app/recommended-3rd-com.qiyi.video");
delete_recursive("/data/app/recommended-3rd-com.sina.weibo");
delete_recursive("/data/app/recommended-3rd-com.ss.android.article.news");
delete_recursive("/data/app/recommended-3rd-com.tuan800.tao800");
delete_recursive("/data/app/sky_happymj");
delete_recursive("/data/app/sky_kupao");
delete_recursive("/data/app/sky_xxd");
delete_recursive("/data/app/Transfer");
delete_recursive("/data/app/VTalk");
delete_recursive("/data/app/WaliLive");
delete("/data/miui/cdrom_install.iso");
delete("/data/miui/apps/vanward_applist");
delete("/data/miui/app/noncustomized/O2O.apk");
delete("/data/miui/app/vanward_applist");
delete_recursive("/data/miui/apps");
delete_recursive("/data/miui/cust");
delete_recursive("/data/cust");
delete_recursive("/data/miui/cust_variant");
delete_recursive("/data/miui/app/recommended");
delete_recursive("/data/system/app_screenshot");

# From XDA
delete("/system/app/AnalyticsCore/");
delete("/system/app/AntiSpam/");
delete("/system/app/BugReport/");
delete("/system/app/CloudService/");
delete("/system/app/Email/");
delete("/system/app/GameCenter/");
delete("/system/app/GuardProvider/");
delete("/system/app/jjcontainer/");
delete("/system/app/jjhome/");
delete("/system/app/jjknowledge/");
delete("/system/app/jjstore/");
delete("/system/app/KSICibaEngine/");
delete("/system/app/MiAssistant/");
delete("/system/app/MiDrive/");
delete("/system/app/MiLinkService/");
delete("/system/app/MiLivetalk/");
delete("/system/app/Mipay/");
delete("/system/app/MiuiCompass/");
delete("/system/app/MiWallpaper/");
delete("/system/app/Notes/");
delete("/system/app/PaymentService/");
delete("/system/app/PersonalAssistantPlugin/");
delete("/system/app/PicoTts/");
delete("/system/app/PowerKeeper/");
delete("/system/app/SecurityAdd/");
delete("/system/app/SecurityCoreAdd/");
delete("/system/app/SogouInput/");
delete("/system/app/SVIService/");
delete("/system/app/SYSOPT/");
delete("/system/app/SystemAdSolution/");
delete("/system/app/ThemeManager/");
delete("/system/app/ThemeModule/");
delete("/system/app/VipAccount/");
delete("/system/app/VoiceAssist/");
delete("/system/app/WMService/");
delete("/system/app/XiaomiAccount/");
delete("/system/app/XiaomiSimActivateService/");
delete("/system/app/XiaomiVip/");
delete("/system/app/XMPass/");

delete("/system/priv-app/CleanMaster/");
delete("/system/priv-app/CloudBackup/");
delete("/system/priv-app/CloudServiceSysbase/");
delete("/system/priv-app/MiDrop/");
delete("/system/priv-app/MiGameCenterSDKService/");
delete("/system/priv-app/PersonalAssistant/");
delete("/system/priv-app/Weather/");
delete("/system/priv-app/WeatherProvider/");
unmount("/system");
ui_print("");
ui_print("");
set_progress(1.000000);
ui_print("Finished!");
ui_print("Succesfully removed");
ui_print("x bloatware! + ODEX files");
ui_print("Made by Kizoky for Redmi 4!");
ui_print("Don't forget to hit thanks on XDA!");
ui_print("Updated: 2017.yx.yx.");
ui_print(" ");